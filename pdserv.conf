#
# Configuration file for etherlab_buddy
# This is a YAML document.
#
# The first level is the application name for which the
# configuration applies to
# The second level is the module. Just supplying the module name
# will start it with default configuration.
# Otherwise specify parameters on the third level
#
# logging priorities: EMERG FATAL ALERT CRIT ERROR WARN NOTICE INFO DEBUG
#

---
logging: |
    # Logging configuration
    # Configure buddy logging in this section. Logging configuration
    # is done in log4j style.
    #
    # The buddy logs to the following categories:
    # - root:
    #       NOTICE: New and Removed applications
    #
    # - log4j.category.<application>: all activities concerning application
    #      NOTICE: New client connections
    #      INFO: Application information
    #
    # - log4j.category.<application>.parameter: Parameter changes
    #      NOTICE: parameter change
    #      INFO: parameter value
    #
    # - log4j.category.<application>.events: Event logging
    #
    # <application> is the application's name

    #log4j.rootCategory=NOTICE, syslog
    log4j.rootCategory=INFO, lanlog

    #log4j.category.lan=INFO
    #log4j.category.lan.parameter=INFO, parameterlog
    #log4j.additivity.lan.parameter=false

    #log4j.category.lan.events=INFO, eventlog
    #log4j.additivity.lan.events=false

    #log4j.category.nm3sim=  # No logging for nm3sim
    log4j.additivity.nm3sim=false

    log4j.appender.syslog=org.apache.log4j.LocalSyslogAppender
    log4j.appender.syslog.syslogName=buddy
    log4j.appender.syslog.facility=16    # LOG_LOCAL0; see sys/syslog.h
    log4j.appender.syslog.layout=org.apache.log4j.PatternLayout
    log4j.appender.syslog.layout.ConversionPattern=%p %c %x - %m%n

    log4j.appender.parameterlog=org.apache.log4j.FileAppender
    log4j.appender.parameterlog.fileName=/tmp/parameter.log
    log4j.appender.parameterlog.layout=org.apache.log4j.BasicLayout

    log4j.appender.lanlog=org.apache.log4j.FileAppender
    log4j.appender.lanlog.fileName=/tmp/lan.log
    log4j.appender.lanlog.layout=org.apache.log4j.BasicLayout

    log4j.appender.console=org.apache.log4j.ConsoleAppender
    log4j.appender.console.layout=org.apache.log4j.BasicLayout

defaults:
    msr:
        traditional: 1

lan: &test
    #name: mname
     msr:
        port: 2345
        traditional: 1
        modelnameprefix: 1
     events:
        1:
            priority: warning
            subsystem: "/Control/BipodControl/AutoBipod/Search Subsystem/SimpleMessage/time<unhide>"
            message: Ungleiche Niveaus beim Heben festgestellt.
        2:
            priority: error
            subsystem: "/Control/BipodControl/AutoBipod/UnequalMovement/time<unhide>"
            message: Unsymmetrische Zylinderbewegung im Bipod festgestellt.
        3:
            priority: error
            subsystem: "/Control/BipodControl/FailDetect/SignalError/time<unhide>"
            message: Sensorausfall am Bipod.
        4:
            priority: error
            subsystem: "/Control/BipodControl/FailDetect/SignalOverride/time<unhide>"
            message: Automatischer Betriebsart mit überschriebenen Sensorwerten nicht erlaubt.
        5:
            priority: warning
            subsystem: "/Control/BipodControl/Geometry/Force Vectorization/Warn_deltaFz/time<unhide>"
            message: Stationsgewicht unter- oder überschritten
        6:
            priority: warning
            subsystem: "/Control/BipodControl/ManualBipod/Command Modify/MaxPull/time<unhide>"
            message: Maximale Zugkraft auf Fundamentplatte erreicht.
        7:
            priority: info
            subsystem: "/Control/BipodControl/ManualBipod/Command Modify/NormalLoad/time<unhide>"
            message: Nennkraft Bipod erreicht.
        8:
            priority: error
            subsystem: "/Control/BipodControl/X2Values/Monitor/Err_HorDisplacement/time<unhide>"
            message: Horizontalversatz der Fußplatte %m zu groß.
            indexoffset: 1
        9:
            priority: error
            subsystem: "/Control/BipodControl/X2Values/Monitor/Err_HorForce/time<unhide>"
            message: Horizontalkraft der Fußplatte %m zu groß.
            indexoffset: 1
        10:
            priority: error
            subsystem: "/Control/BipodControl/X2Values/Monitor/HighPressure <text=\"Druck im Zylinder zu hoch\">/time<unhide>"
            message: Überdruck am Zylinder %m
            indexoffset: 1
        11:
            priority: error
            subsystem: "/Control/BipodControl/X2Values/Monitor/UncommandedMovement <text=\"Unerlaubte Bewegung am Zylinder\">/time<unhide>"
            message: Unerwartete Bewegung am Zylinder %m festgestellt.
            indexoffset: 1
        12:
            priority: warning
            subsystem: "/Control/BipodControl/X2Values/Monitor/Warn_HorDisplacement/time<unhide>"
            message: Horizontalversatz der Fußplatte %m zu groß.
            indexoffset: 1
        13:
            priority: warning
            subsystem: "/Control/BipodControl/X2Values/Monitor/Warn_HorForce/time<unhide>"
            message: Horizontalkraft der Fußplatte %m zu groß.
            indexoffset: 1
        14:
            priority: error
            subsystem: "/Control/BipodTemp/Lmax/time<unhide>"
            message: Längenänderung während Spülvorgang festgestellt.
          
        15:
            priority: error
            subsystem: "/Control/Monitor/L_SensorFail/time<unhide>"
            message: Zylinderlängensensorausfall am Zylinder %m
            indexoffset: 1
        16:
            priority: warning
            subsystem: "/Control/Monitor/LevelSensErr/time<unhide>"
            message: Tankölstand Sensorausfall.
          
        17:
            priority: error
            subsystem: "/Control/Monitor/N_SensorFail/time<unhide>"
            message: Niveausensorausfall am Bipod %m
            indexoffset: 1
        18:
            priority: error
            subsystem: "/Control/Monitor/NiveauCheck/MaxForceErr/time<unhide>"
            message: Strukturlastabweichung am Bipod %m zu hoch.
            indexoffset: 1
        19:
            priority: error
            subsystem: "/Control/Monitor/NiveauCheck/NiveauDeltaErr/time<unhide>"
            message: Bipodniveaudifferenz zu hoch.
          
        20:
            priority: error
            subsystem: "/Control/Monitor/Pa_SensorFail/time<unhide>"
            message: Bodendrucksensorausfall am Zylinder %m
            indexoffset: 1
        21:
            priority: error
            subsystem: "/Control/Monitor/Pb_SensorFail/time<unhide>"
            message: Stangendrucksensorausfall am Zylinder %m
            indexoffset: 1
        22:
            priority: warning
            subsystem: "/Control/Monitor/PpSensErr/time<unhide>"
            message: Vorlaufdruck Sensorausfall
          
        23:
            priority: warning
            subsystem: "/Control/Monitor/PrSensErr/time<unhide>"
            message: Rücklaufdruck Sensorausfall.
          
        24:
            priority: warning
            subsystem: "/Control/Monitor/TTankSensErr/time<unhide>"
            message: Tanktemperatur Sensorausfall.
          
        25:
            priority: error
            subsystem: "/Control/Monitor/T_SensorFail/time<unhide>"
            message: Temperatursensorausfall am Zylinder %m
            indexoffset: 1
        26:
            priority: warning
            subsystem: "/Control/Monitor/TpSensErr/time<unhide>"
            message: Vorlauftemperatur Sensorausfall.
          
        27:
            priority: warning
            subsystem: "/Control/Monitor/TrSensErr/time<unhide>"
            message: Rücklauftemperatur Sensorausfall.
          
        28:
            priority: error
            subsystem: "/Control/Niveau/NiveauHigh/time<unhide>"
            message: Öl eines Niveaumeßbehälters zu hoch.
          
        29:
            priority: warning
            subsystem: "/Control/Niveau/NiveauLow/time<unhide>"
            message: Öl eines Niveaumessbehälters zu niedrig.
          
        30:
            priority: warning
            subsystem: "/Control/OLFControl/FilterNotOK <text=\"OLF Filter Wechseln\">/time<unhide>"
            message: OLF Filter verschmutzt.
          
        31:
            priority: warning
            subsystem: "/Control/PumpControl/FilterNotOK/time<unhide>"
            message: Pumpenfilter verschmutzt.
          
        32:
            priority: warning
            subsystem: "/Control/PumpControl/Pressure Control/P_Setpoint/HeatReq <text=\"Pumpenheizumg\">/time<unhide>"
            message: Aufheizen erforderlich.
          
        33:
            priority: error
            subsystem: "/Control/TankControl/LevelFail/time<unhide>"
            message: Tankpegel kritisch.
          
        34:
            priority: error
            subsystem: "/Control/TankControl/OilLossFail/time<unhide>"
            message: Ölleckage festgestellt.
          
        35:
            priority: warning
            subsystem: /hydraulic/pump2
            message: a warning message %m
            indexoffset: 1
            indexmapping:
                0: speed error
                1: pressure too high
                2: overtemperatyre

# Aliases for test
test1: *test

nm3sim:
    msr:
       port: 2346
       traditional: 1
